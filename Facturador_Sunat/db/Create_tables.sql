CREATE TABLE PUBLIC.CABECERA (
ID_CABECERA BIGSERIAL NOT NULL PRIMARY KEY,
ID_EXTERNO VARCHAR(45) NULL DEFAULT NULL,
    
EMPR_RAZONSOCIAL VARCHAR(200) NOT NULL,
EMPR_UBIGEO VARCHAR(6) NULL DEFAULT NULL,
EMPR_NOMBRE_COMERCIAL VARCHAR(200) NULL DEFAULT NULL,
EMPR_DIRECCION VARCHAR(300) NULL DEFAULT NULL,
EMPR_PROVINCIA VARCHAR(80) NULL DEFAULT NULL,
EMPR_DEPARTAMENTO VARCHAR(80) NULL DEFAULT NULL,
EMPR_DISTRITO VARCHAR(80) NULL DEFAULT NULL,
EMPR_PAIS VARCHAR(10) NULL DEFAULT NULL,
EMPR_NRO_RUC VARCHAR(11) NOT NULL,
EMPR_TIPO_COMPROBANTE VARCHAR(45) NOT NULL,
    
CLIE_NUMERO_DOC_IDENTIDAD VARCHAR(11) NULL DEFAULT NULL,
CLIE_TIPO_DOC VARCHAR(60) NULL DEFAULT NULL,
CLIE_NOMBRE VARCHAR(200) NULL DEFAULT NULL,
    
DOCU_FECHA DATE NOT NULL,
DOCU_HORA TIME NOT NULL,
DOCU_TIPO_COMPROBANTE VARCHAR(4) NOT NULL,
DOCU_NUMERO_COMPROBANTE VARCHAR(10) NOT NULL,
DOCU_MONEDA VARCHAR(5) NOT NULL,
DOCU_GRAVADA VARCHAR(15) NOT NULL,
DOCU_INAFECTA VARCHAR(15) NULL DEFAULT NULL,
DOCU_EXONERADA VARCHAR(15) NULL DEFAULT NULL,
DOCU_GRATUITA VARCHAR(15) NULL DEFAULT NULL,
DOCU_DESCUENTO VARCHAR(15) NULL DEFAULT NULL,
DOCU_SUB_TOTAL VARCHAR(15) NULL DEFAULT NULL,
DOCU_TOTAL VARCHAR(15) NULL DEFAULT NULL,
DOCU_IGV VARCHAR(45) NULL DEFAULT NULL,
TASA_IGV VARCHAR(5) NULL DEFAULT NULL,
DOCU_ISC VARCHAR(45)NULL DEFAULT NULL,
TASA_ISC VARCHAR(5)NULL DEFAULT NULL,
DOCU_OTROS_TRIBUTOS VARCHAR(45) NULL DEFAULT NULL,
TASA_OTROS_TRIBUTOS VARCHAR(45) NULL DEFAULT NULL,
DOCU_OTROS_CARGOS VARCHAR(45) NULL DEFAULT NULL,
DOCU_PERCEPCION VARCHAR(45) NULL DEFAULT NULL,
HASH_CODE VARCHAR(100) NULL DEFAULT NULL,
CDR VARCHAR(200) NULL DEFAULT NULL,
CDR_NOTA  VARCHAR(500) NULL DEFAULT NULL,
CDR_OBSERVACION VARCHAR(2000) DEFAULT ' ',
DOCU_ENVIA_WS VARCHAR(2) DEFAULT 'S',
DOCU_PROCE_STATUS VARCHAR(3) DEFAULT 'N',
DOCU_PROCE_FECHA TIMESTAMP,
DOCU_LINK_PDF VARCHAR(200) NULL DEFAULT NULL,
DOCU_LINK_CDR VARCHAR(200) NULL DEFAULT NULL,
DOCU_LINK_XML VARCHAR(200) NULL DEFAULT NULL,
CLIE_CORREO_CPE1 VARCHAR(100) NULL DEFAULT NULL,
CLIE_CORREO_CPE2 VARCHAR(100) NULL DEFAULT NULL
);

CREATE TABLE PUBLIC.DETALLE (
    ID_DETALLE BIGSERIAL NOT NULL PRIMARY KEY,
    ID_CABECERA BIGINT NOT NULL,
    ITEM_ORDEN VARCHAR(45) NOT NULL,
    ITEM_UNIDAD VARCHAR(45) NOT NULL,
    ITEM_CANTIDAD VARCHAR(45) NOT NULL,
    ITEM_COD_PRODUCTO VARCHAR(45) NULL,
    ITEM_DESCRIPCION VARCHAR(255) NOT NULL,
    ITEM_TIPO_AFECTACION VARCHAR(45) DEFAULT NULL,
    ITEM_TIPO_PRECIO_VENTA VARCHAR(45) DEFAULT '01',
    ITEM_VALOR_VENTA VARCHAR(45) NOT NULL,
    ITEM_PRECIO_VENTA_NO_HONEROSA VARCHAR(45) DEFAULT '0.00',
    ITEM_SUBTOTAL VARCHAR(45) NOT NULL,
    ITEM_IGV VARCHAR(45) NOT NULL
);

CREATE TABLE PUBLIC.LEYENDA (
    ID_LEYENDA BIGSERIAL NOT NULL PRIMARY KEY,
    ID_CABECERA BIGINT NOT NULL,
    LEYENDA_CODIGO VARCHAR(10) NOT NULL,
    LEYENDA_TEXTO VARCHAR(500) NOT NULL
);